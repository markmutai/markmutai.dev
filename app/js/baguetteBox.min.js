!function (t, e) { "use strict"; "function" == typeof define && define.amd ? define(e) : "object" == typeof exports ? module.exports = e() : t.baguetteBox = e() }(this, function () { "use strict"; var l, r, s, u, a, c = '<i class="fas fa-chevron-left"></i>', d = '<i class="fas fa-chevron-right"></i>', f = '<i class="fas fa-times"></i>', g = {}, m = { captions: !0, fullScreen: !1, noScrollbars: !1, titleTag: !1, buttons: "auto", async: !1, preload: 2, animation: "slideIn", afterShow: null, afterHide: null, onChange: null, overlayBackgroundColor: "rgba(0,0,0,.8)" }, p = {}, b = [], h = 0, y = {}, e = !1, v = /.+\.(gif|jpe?g|png|webp)/i, w = {}, k = [], C = null, E = function (t) { -1 !== t.target.id.indexOf("baguette-img") && n() }, x = function (t) { t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0, i() }, B = function (t) { t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0, o() }, T = function (t) { t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0, n() }, N = function (t) { y.count++, 1 < y.count && (y.multitouch = !0), y.startX = t.changedTouches[0].pageX, y.startY = t.changedTouches[0].pageY }, A = function (t) { e || y.multitouch || (t.preventDefault ? t.preventDefault() : t.returnValue = !1, 40 < (t = t.touches[0] || t.changedTouches[0]).pageX - y.startX ? (e = !0, i()) : t.pageX - y.startX < -40 ? (e = !0, o()) : 100 < y.startY - t.pageY && n()) }, S = function () { y.count--, y.count <= 0 && (y.multitouch = !1), e = !1 }, P = function (t) { "block" !== l.style.display || l.contains(t.target) || (t.stopPropagation(), L()) }; function F(t) { var e; w.hasOwnProperty(t) && (e = w[t].galleries, [].forEach.call(e, function (t) { [].forEach.call(t, function (t) { R(t.imageElement, "click", t.eventHandler) }), b === t && (b = []) }), delete w[t]) } function H(t) { switch (t.keyCode) { case 37: i(); break; case 39: o(); break; case 27: n() } } function L() { (g.buttons ? s : a).focus() } function n() { g.noScrollbars && (document.documentElement.style.overflowY = "auto", document.body.style.overflowY = "auto"), "none" !== l.style.display && (R(document, "keydown", H), l.className = "", setTimeout(function () { l.style.display = "none", document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen(), g.afterHide && g.afterHide() }, 500), C.focus()) } function I(e, n) { var t, o, a, i, l, r = k[e]; void 0 !== r && (r.getElementsByTagName("img")[0] ? n && n() : (t = (l = b[e].imageElement).getElementsByTagName("img")[0], o = "function" == typeof g.captions ? g.captions.call(b, l) : l.getAttribute("data-caption") || l.title, a = function (t) { var e = t.href; if (t.dataset) { var n, o = []; for (n in t.dataset) "at-" !== n.substring(0, 3) || isNaN(n.substring(3)) || (o[n.replace("at-", "")] = t.dataset[n]); for (var a = Object.keys(o).sort(function (t, e) { return parseInt(t, 10) < parseInt(e, 10) ? -1 : 1 }), i = window.innerWidth * window.devicePixelRatio, l = 0; l < a.length - 1 && a[l] < i;)l++; e = o[a[l]] || e } return e }(l), (i = z("figure")).id = "baguetteBox-figure-" + e, i.innerHTML = '<div class="baguetteBox-spinner"><div class="mm_loading"></div></div>', g.captions && o && ((l = z("figcaption")).id = "baguetteBox-figcaption-" + e, l.innerHTML = o, i.appendChild(l)), r.appendChild(i), (r = z("img")).onload = function () { var t = document.querySelector("#baguette-img-" + e + " .baguetteBox-spinner"); i.removeChild(t), !g.async && n && n() }, r.setAttribute("src", a), r.alt = t && t.alt || "", g.titleTag && o && (r.title = o), i.appendChild(r), g.async && n && n())) } function o() { var t; return h <= k.length - 2 ? (h++, Y(), q(h), t = !0) : g.animation && (r.className = "bounce-from-right", setTimeout(function () { r.className = "" }, 400), t = !1), g.onChange && g.onChange(h, k.length), t } function i() { var t; return 1 <= h ? (h--, Y(), X(h), t = !0) : g.animation && (r.className = "bounce-from-left", setTimeout(function () { r.className = "" }, 400), t = !1), g.onChange && g.onChange(h, k.length), t } function Y() { var t = 100 * -h + "%"; "fadeIn" === g.animation ? (r.style.opacity = 0, setTimeout(function () { p.transforms ? r.style.transform = r.style.webkitTransform = "translate3d(" + t + ",0,0)" : r.style.left = t, r.style.opacity = 1 }, 400)) : p.transforms ? r.style.transform = r.style.webkitTransform = "translate3d(" + t + ",0,0)" : r.style.left = t } function q(t) { t - h >= g.preload || I(t + 1, function () { q(t + 1) }) } function X(t) { h - t >= g.preload || I(t - 1, function () { X(t - 1) }) } function M(t, e, n, o) { t.addEventListener ? t.addEventListener(e, n, o) : t.attachEvent("on" + e, n) } function R(t, e, n, o) { t.removeEventListener ? t.removeEventListener(e, n, o) : t.detachEvent("on" + e, n) } function j(t) { return document.getElementById(t) } function z(t) { return document.createElement(t) } return [].forEach || (Array.prototype.forEach = function (t, e) { for (var n = 0; n < this.length; n++)t.call(e, this[n], n, this) }), [].filter || (Array.prototype.filter = function (t, e, n, o, a) { for (n = this, o = [], a = 0; a < n.length; a++)t.call(e, n[a], a, n) && o.push(n[a]); return o }), { run: function (t, e) { var n, i, o; p.transforms = void 0 !== (n = z("div")).style.perspective || void 0 !== n.style.webkitPerspective, p.svg = ((n = z("div")).innerHTML = "<svg/>", "http://www.w3.org/2000/svg" === (n.firstChild && n.firstChild.namespaceURI)), (l = j("baguetteBox-overlay")) ? (r = j("baguetteBox-slider"), s = j("previous-button"), u = j("next-button"), a = j("close-button"), testBox = j("testBox")) : ((l = z("div")).setAttribute("role", "dialog"), l.id = "baguetteBox-overlay", document.getElementsByTagName("body")[0].appendChild(l), (r = z("div")).id = "baguetteBox-slider", l.appendChild(r), (s = z("button")).setAttribute("type", "button"), s.id = "previous-button", s.setAttribute("aria-label", "Previous"), s.innerHTML = p.svg ? c : "&lt;", l.appendChild(s), (u = z("button")).setAttribute("type", "button"), u.id = "next-button", u.setAttribute("aria-label", "Next"), u.innerHTML = p.svg ? d : "&gt;", l.appendChild(u), (a = z("button")).setAttribute("type", "button"), a.id = "close-button", a.setAttribute("aria-label", "Close"), a.innerHTML = p.svg ? f : "&times;", l.appendChild(a), s.className = u.className = a.className = "baguetteBox-button", M(l, "click", E), M(s, "click", x), M(u, "click", B), M(a, "click", T), M(l, "touchstart", N), M(l, "touchmove", A), M(l, "touchend", S), M(document, "focus", P, !0)), F(t), t = t, i = e, e = document.querySelectorAll(t), o = { galleries: [], nodeList: e }, w[t] = o, [].forEach.call(e, function (t) { i && i.filter && (v = i.filter); var a, e = [], e = "A" === t.tagName ? [t] : t.getElementsByTagName("a"); 0 !== (e = [].filter.call(e, function (t) { return v.test(t.href) })).length && (a = [], [].forEach.call(e, function (t, e) { function n(t) { t.preventDefault ? t.preventDefault() : t.returnValue = !1, function (t, e) { if (b !== t) { for (b = t, function (t) { for (var e in t = t || {}, m) g[e] = m[e], void 0 !== t[e] && (g[e] = t[e]); r.style.transition = r.style.webkitTransition = "fadeIn" === g.animation ? "opacity .4s ease" : "slideIn" === g.animation ? "" : "none", "auto" === g.buttons && ("ontouchstart" in window || 1 === b.length) && (g.buttons = !1), s.style.display = u.style.display = g.buttons ? "" : "none"; try { l.style.backgroundColor = g.overlayBackgroundColor } catch (t) { } }(e); r.firstChild;)r.removeChild(r.firstChild); k.length = 0; for (var n, o = [], a = [], i = 0; i < t.length; i++)(n = z("div")).className = "full-image", n.id = "baguette-img-" + i, k.push(n), o.push("baguetteBox-figure-" + i), a.push("baguetteBox-figcaption-" + i), r.appendChild(k[i]); l.setAttribute("aria-labelledby", o.join(" ")), l.setAttribute("aria-describedby", a.join(" ")) } }(a, i), t = e, g.noScrollbars && (document.documentElement.style.overflowY = "hidden", document.body.style.overflowY = "scroll"), "block" !== l.style.display && (M(document, "keydown", H), y = { count: 0, startX: null, startY: null }, I(h = t, function () { q(h), X(h) }), Y(), l.style.display = "block", g.fullScreen && (l.requestFullscreen ? l.requestFullscreen() : l.webkitRequestFullscreen ? l.webkitRequestFullscreen() : l.mozRequestFullScreen && l.mozRequestFullScreen()), setTimeout(function () { l.className = "visible", g.afterShow && g.afterShow() }, 50), g.onChange && g.onChange(h, k.length), C = document.activeElement, L()) } var o = { eventHandler: n, imageElement: t }; M(t, "click", n), a.push(o) }), o.galleries.push(a)) }) }, destroy: function () { R(l, "click", E), R(s, "click", x), R(u, "click", B), R(a, "click", T), R(l, "touchstart", N), R(l, "touchmove", A), R(l, "touchend", S), R(document, "focus", P, !0), function () { for (var t in w) w.hasOwnProperty(t) && F(t) }(), R(document, "keydown", H), document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")), w = {}, b = [], h = 0 }, showNext: o, showPrevious: i } });